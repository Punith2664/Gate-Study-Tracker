<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GATE EC Study Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <div class="modal fade" id="welcomeModal" tabindex="-1" aria-labelledby="welcomeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title h2" id="welcomeModalLabel">Welcome to Your GATE Tracker!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Hereâ€™s a quick guide to all the features:</p>
                    <ul>
                        <li><strong>Study Timer:</strong> Use the Pomodoro timer for focused study sessions. It logs your time automatically when it finishes.</li>
                        <li><strong>Study Statistics:</strong> Tracks your study hours for today, the last 7 days, the last 30 days, and overall.</li>
                        <li><strong>Overall Performance:</strong> The chart shows your total syllabus completion percentage at a glance.</li>
                        <li><strong>Revision Tracker:</strong> After completing all chapters in a subject, an option to start a revision cycle will appear. The app will then tell you when it's time to revise.</li>
                        <li><strong>Daily Tools:</strong> Use the To-Do List, Workout Tracker, and Activity Logs to build discipline and consistency.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div id="login-container" class="container vh-100 d-flex flex-column justify-content-center align-items-center">
        <h1 class="display-4 fw-bold text-primary text-center mb-4">GATE EC Study Tracker</h1>
        <button id="login-btn" class="btn btn-outline-primary btn-lg px-5">Login with Google</button>
    </div>

    <div id="app-container" class="container-fluid hidden">
        <header class="d-flex justify-content-between align-items-center my-4">
            <h1 class="h2 fw-bold text-primary m-0">GATE EC Dashboard</h1>
            <button id="logout-btn" class="btn btn-sm btn-outline-primary">Logout</button>
        </header>

        <main class="row g-4">
            <div class="col-lg-4 col-md-6"><div class="card h-100"><div class="card-body"><h2 class="card-title">Study Timer</h2><div id="timer-display" class="display-1 fw-bold text-center my-3 text-primary">25:00</div><div class="text-center mb-4"><label for="custom-minutes">Set Minutes: </label><input type="number" id="custom-minutes" value="25" min="1" class="form-control d-inline-block w-auto"></div><div class="d-flex justify-content-center gap-2"><button id="start-timer" class="btn btn-outline-primary">Start</button><button id="pause-timer" class="btn btn-outline-primary">Pause</button><button id="reset-timer" class="btn btn-outline-primary">Reset</button></div></div></div></div>
            <div class="col-lg-4 col-md-6"><div class="card h-100"><div class="card-body"><h2 class="card-title">Study Statistics</h2><div class="stats-grid"><span>Today:</span><span id="stats-today" class="stats-value">0h 0m</span><span>Last 7 Days:</span><span id="stats-week" class="stats-value">0h 0m</span><span>Last 30 Days:</span><span id="stats-month" class="stats-value">0h 0m</span><span>Total:</span><span id="stats-total" class="stats-value">0h 0m</span></div></div></div></div>
            <div class="col-lg-4 col-md-12"><div class="card h-100"><div class="card-body"><h2 class="card-title">Overall Performance</h2><div class="chart-container"><div class="performance-chart"></div><div id="chart-percentage" class="chart-label">0%</div></div></div></div></div>
            <div class="col-lg-6 col-md-6"><div class="card h-100"><div class="card-body d-flex flex-column"><h2 class="card-title">Revisions Due Today</h2><ul id="revision-list" class="list-group list-group-flush flex-grow-1"></ul></div></div></div>
            <div class="col-lg-6 col-md-12"><div class="card h-100"><div class="card-body d-flex flex-column"><h2 class="card-title">Today's To-Do List</h2><ul id="todo-list" class="list-group list-group-flush flex-grow-1"></ul><div class="input-group mt-3"><input type="text" id="new-task-input" class="form-control" placeholder="e.g., Solve 10 PYQs"><button id="add-task-btn" class="btn btn-outline-primary">Add Task</button></div></div></div></div>
            <div class="col-lg-4 col-md-6"><div class="card h-100"><div class="card-body"><h2 class="card-title">Workout Tracker</h2><div class="form-check form-switch workout-switch fs-5"><input class="form-check-input" type="checkbox" id="workout-checkbox"><label class="form-check-label" for="workout-checkbox">Did you work out today?</label></div></div></div></div>
            <div class="col-lg-4 col-md-6"><div class="card h-100"><div class="card-body"><h2 class="card-title">Activity Log</h2><div class="stats-grid"><span>Current Streak:</span><span id="stats-current-streak" class="stats-value">0 days</span><span>Longest Streak:</span><span id="stats-longest-streak" class="stats-value">0 days</span><span>Total Active Days:</span><span id="stats-total-days" class="stats-value">0 days</span></div></div></div></div>
            <div class="col-lg-4 col-md-12"><div class="card h-100"><div class="card-body"><h2 class="card-title">Workout Progress</h2><div class="stats-grid"><span>Current Streak:</span><span id="stats-workout-current" class="stats-value">0 days</span><span>Longest Streak:</span><span id="stats-workout-longest" class="stats-value">0 days</span><span>Total Workouts:</span><span id="stats-workout-total" class="stats-value">0 days</span></div></div></div></div>
            <div class="col-12"><div class="card"><div class="card-body"><h2 class="card-title">Subject Completion Tracker</h2><div id="subject-container" class="row g-4"></div></div></div></div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.7/firebase-firestore-compat.js"></script>
    <script src="script.js"></script>
</body>
</html>
